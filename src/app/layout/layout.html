<div class="app-container">
  <header class="app-header">
    <div class="header-left">
      <h1>Release Notes</h1>
    </div>
    <div class="header-right">
      <button class="theme-toggle" (click)="toggleTheme()" title="Toggle Theme">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
          <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
          <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2"/>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2"/>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2"/>
          <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2"/>
          <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2"/>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2"/>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2"/>
        </svg>
      </button>
      
      <!-- User Menu -->
      <div class="user-menu" *ngIf="currentUser">
        <button class="user-menu-trigger" (click)="toggleUserMenu()" [attr.aria-expanded]="showUserMenu">
          <div class="user-avatar">
            {{ currentUser.name.charAt(0).toUpperCase() }}
          </div>
          <span class="user-name">{{ currentUser.name }}</span>
          <svg class="dropdown-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <polyline points="6,9 12,15 18,9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        <div class="user-menu-dropdown" *ngIf="showUserMenu">
          <div class="user-menu-header">
            <div class="user-avatar large">
              {{ currentUser.name.charAt(0).toUpperCase() }}
            </div>
            <div class="user-info">
              <div class="user-name">{{ currentUser.name }}</div>
              <div class="user-email">{{ currentUser.email }}</div>
            </div>
          </div>
          <div class="user-menu-divider"></div>
          <button class="user-menu-item logout-button" (click)="logout(); $event.stopPropagation()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="m9 21 5-5-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M20 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4 21v-2a4 4 0 0 1 4-4h1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4 3v2a4 4 0 0 0 4 4h1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Sign out
          </button>
        </div>
      </div>
    </div>
  </header>
  <main class="main-content">
    <app-systems-menu class="systems-menu" [class.collapsed]="isMenuCollapsed"></app-systems-menu>
    <app-release-list class="release-list"></app-release-list>
    <app-release-detail class="release-detail"></app-release-detail>
  </main>
</div>

<!-- Backdrop for closing user menu -->
<div class="backdrop" *ngIf="showUserMenu" (click)="closeUserMenu()"></div>